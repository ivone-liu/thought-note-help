## 标签组



标签组的概念是**标签的组合**，并不是单纯对标签的分组管理，因为仅仅是标签分组无法在复杂的场景中，提供最优的笔记检索方式。而标签的组合，顾名思义就是多个标签通过某种方式构成的笔记层面上的关联。



当你在输入`#a-b`（*方便部分用户的习惯，同时也兼容`#a/b`语法，出于对中文的友好，我们建议使用-连字符*）这种格式的标签语法时，系统会判定你输入的是标签的组合，会把`#a`跟`#b`形成组合关系，在检索时可以独立检索标签组合的笔记，过滤掉非组合关系中的其他笔记。



![group1](./assets/group-1.png)



在绑定关系上，系统认为`#a-b`与`#b-a`是**两种不同的组合形式**，`#a-b`组合建立时并**不会**同时反向建立`#b-a`的组合。对于`#a-b-c`这种形式，系统会认为是以`#a`为主体同时与`#b`、`#c`组合，是三个标签的组合形式，不存在`#b`、`#c`这种可推演出来的数学逻辑上的组合。也就是说，你在看到你创立的标签组时，你的标签组只有一层折叠展开效果，不会出现多层标签的嵌套。



![group1](./assets/group-2.png)



当然，标签对应的笔记数统计也是按照组合来计算的。如果你的`#a`标签有10条笔记，`#b`有20条笔记，`#a-b`就会只统计两个标签组合的笔记数，跟原来的笔记数量有所区分，展示的笔记也只会展示标签组相关的笔记。



![group1](./assets/group-3.png)



同样，如果还是沿用之前的展示效果的话，当标签过多的时候标签界面就会很乱，再加上组合关系就会更加无从下手。我思前想后决定折叠了标签板块，增加了折叠的中间栏，用作对标签和标签组的展示，置顶的标签仍然留在原来的位置作为标签的一级入口，便于日常使用。



我用做读书笔记来作为案例场景。



在用方寸笔迹记录读书笔记之前，我会先建立一个名为 *读书笔记* 的笔记本，我所有的读书过程中的摘录和思考都通过标签的方式做好标记，记录到笔记本中，便于在后面需要的时候随时调取。当然这是理想状态，通过笔记本和标签就能定位到笔记内容。但实际上呢，当我的笔记数量达到几百条时，数十个标签一打眼上去根本找不到想要的，标签机制所带来的快速检索效果就会失灵，找到笔记就成了一件费时费力的事情。



我最近在读《小岛经济学》，在我做读书笔记时通过标签组功能，就可以考虑按照组合的方式来建立好笔记库。我的标签格式如 `#小岛经济学-通货膨胀-货币`，系统就会按规则生成`小岛经济学`、`通货膨胀`、`货币`三个标签，并生成这三个标签的组合，记录到笔记本中，标签下的笔记数也会按照组合形式统计。



![group1](./assets/group-4.png)